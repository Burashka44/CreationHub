# üîç –ü–û–õ–ù–´–ô –ê–£–î–ò–¢ –ü–†–û–ï–ö–¢–ê - 10.01.2026

## ‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢–´ –ü–†–û–í–ï–†–ö–ò –í–°–ï–• –°–¢–†–ê–ù–ò–¶

| ‚Ññ | –†–∞–∑–¥–µ–ª | URL | –°—Ç–∞—Ç—É—Å | –ü—Ä–æ–±–ª–µ–º—ã | –†–µ—à–µ–Ω–∏–µ |
|---|--------|-----|--------|----------|---------|
| 1 | **Dashboard** | `/` | ‚úÖ OK | –ò–Ω–æ–≥–¥–∞ 429 –æ—à–∏–±–∫–∏ | ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û (‚Üë rate limit) |
| 2 | **Services** | `/services` | ‚úÖ OK | –ù–µ—Ç | - |
| 3 | **Video Pipeline** | `/video-pipeline` | ‚úÖ OK | –ö—Ä–∞—Å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã | ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û (–ø–æ—Ä—Ç 9191) |
| 4 | **AI Hub** | `/ai-hub` | ‚úÖ OK | System API Unreachable (429) | ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û (‚Üë rate limit) |
| 5 | **Admins** | `/admins` | ‚úÖ OK | System API Unreachable (429) | ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û (‚Üë rate limit) |
| 6 | **Media Analytics** | `/media` | ‚úÖ OK | –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö (–Ω–æ—Ä–º–∞) | - |
| 7 | **Network** | `/network` | ‚úÖ OK | –ù–µ—Ç | - |
| 8 | **Security** | `/security` | ‚úÖ OK | –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ HTTPS | –¢—Ä–µ–±—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| 9 | **Backups** | `/backups` | ‚úÖ OK | –ù–µ—Ç | - |
| 10 | **Settings** | `/settings` | ‚úÖ OK | –ù–µ—Ç | - |
| 11 | **Activity** | `/activity` | ‚úÖ OK | –ù–µ—Ç | - |

---

## üêõ –ù–ê–ô–î–ï–ù–ù–´–ï –ò –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ï –ë–ê–ì–ò

### **1. Video Pipeline - –ö—Ä–∞—Å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –º–æ–¥–µ–ª–µ–π**
**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ú–æ–¥–µ–ª–∏ (Video Processor, iopaint, Sam2, Ollama) –≥–æ—Ä–µ–ª–∏ –∫—Ä–∞—Å–Ω—ã–º
- "System API Unreachable" –æ—à–∏–±–∫–∞
- –§—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–µ –º–æ–≥ –¥–æ—Å—Ç—É—á–∞—Ç—å—Å—è –¥–æ System API

**–ü—Ä–∏—á–∏–Ω–∞:**
- –ü–æ–ø—ã—Ç–∫–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å System API –Ω–∞ `127.0.0.1:9191` –Ω–∞—Ä—É—à–∏–ª–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é Docker —Å–µ—Ç—å
- Nginx –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ creationhub –Ω–µ –º–æ–≥ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ system-api:9191

**–†–µ—à–µ–Ω–∏–µ:**
```yaml
# –û—Ç–∫–∞—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è
ports:
  - "9191:9191"  # –í–º–µ—Å—Ç–æ 127.0.0.1:9191
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û** - –≤—Å–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–µ–ª—ë–Ω—ã–µ

---

### **2. AI Hub & Admins - System API Unreachable**
**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è –∫—Ä–∞—Å–Ω–∞—è –æ—à–∏–±–∫–∞ "System API Unreachable"
- –ú–∞—Å—Å–æ–≤—ã–µ 429 (Too Many Requests) –æ—à–∏–±–∫–∏
- –°—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–µ –º–æ–≥–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ

**–ü—Ä–∏—á–∏–Ω–∞:**
- Rate limit 200 req/min —Å–ª–∏—à–∫–æ–º —Å—Ç—Ä–æ–≥–∏–π
- AI Hub –∏ Admins –¥–µ–ª–∞—é—Ç —á–∞—Å—Ç—ã–µ polling –∑–∞–ø—Ä–æ—Å—ã (–∫–∞–∂–¥—ã–µ 2-3 —Å–µ–∫)
- –ó–∞ –º–∏–Ω—É—Ç—É –Ω–∞–±–µ–≥–∞–µ—Ç >200 –∑–∞–ø—Ä–æ—Å–æ–≤

**–†–µ—à–µ–Ω–∏–µ:**
```javascript
// –ë—ã–ª–æ:
const RATE_LIMIT_RPM = 200;

// –°—Ç–∞–ª–æ:
const RATE_LIMIT_RPM = 500;
```

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û** - –æ—à–∏–±–∫–∏ 429 –∏—Å—á–µ–∑–ª–∏

---

## üìä –ü–†–ò–ú–ï–ù–Å–ù–ù–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø

### **–°–µ–≥–æ–¥–Ω—è (10.01.2026):**

#### **Security Hardening (14:15):**
1. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω CSP header (XSS –∑–∞—â–∏—Ç–∞)
2. ‚úÖ –£–¥–∞–ª—ë–Ω Recovery Mode (backdoor)
3. ‚ö†Ô∏è –ü–æ–ø—ã—Ç–∫–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å System API ‚Üí –æ—Ç–∫–∞—á–µ–Ω–∞ (–ª–æ–º–∞–ª–∞ Docker —Å–µ—Ç—å)

#### **Bug Fixes (14:20-14:25):**
4. ‚úÖ –û—Ç–∫–∞—Ç –∏–∑–æ–ª—è—Ü–∏–∏ System API (–∏—Å–ø—Ä–∞–≤–∏–ª Video Pipeline)
5. ‚úÖ –£–≤–µ–ª–∏—á–µ–Ω rate limit 200‚Üí500 (–∏—Å–ø—Ä–∞–≤–∏–ª AI Hub + Admins)

---

## üîí –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò

### **–ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞—â–∏—Ç—ã:**
- ‚úÖ **CSP Header** - –ó–∞—â–∏—Ç–∞ –æ—Ç XSS
- ‚úÖ **Rate Limiting** - 500 req/min (–∑–∞—â–∏—Ç–∞ –æ—Ç DDoS)
- ‚úÖ **JWT Authentication** - –¢–æ–∫–µ–Ω—ã —Å –∏—Å—Ç–µ—á–µ–Ω–∏–µ–º 7 –¥–Ω–µ–π
- ‚úÖ **Bcrypt –ø–∞—Ä–æ–ª–∏** - –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ë–î
- ‚úÖ **Docker network isolation** - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ frontend/backend
- ‚úÖ **CORS** - –¢–æ–ª—å–∫–æ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –¥–æ–º–µ–Ω—ã
- ‚úÖ **Security headers** - X-Frame-Options, X-XSS-Protection, etc.

### **–£–¥–∞–ª—ë–Ω–Ω—ã–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏:**
- ‚úÖ Recovery Mode backdoor - –£–î–ê–õ–Å–ù
- ‚úÖ –°–ª–∏—à–∫–æ–º —Å—Ç—Ä–æ–≥–∏–π rate limit - –ò–°–ü–†–ê–í–õ–ï–ù (–±–∞–ª–∞–Ω—Å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å/—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª)

### **–û—Ç–∫–∞—á–µ–Ω—ã (–Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∏):**
- ‚ùå System API –Ω–∞ 127.0.0.1 - –õ–æ–º–∞–ª Docker networking

---

## üìà –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ò–ó–ú–ï–ù–ï–ù–ò–ô

```
–ö–æ–º–º–∏—Ç—ã —Å–µ–≥–æ–¥–Ω—è:
- 3751612 fix(frontend): ServerStats.tsx OS info parsing
- db448fe feat(backend): Backup schedules API
- fd846b6 fix: Revert System API port isolation  
- [—Ç–µ–∫—É—â–∏–π] fix: Increase rate limit 200‚Üí500

–ë—ç–∫–∞–ø—ã —Å–æ–∑–¥–∞–Ω—ã:
- pre-security-hardening-20260110_141551/ (12 MB)
- pre-security-fix-20260109_1134/ (1.4 MB)
- session-20260110-1254/ (13 MB)

–ò–∑–º–µ–Ω—ë–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤: 8
  - nginx.conf (CSP headers)
  - auth.js (recovery mode removed)
  - docker-compose.yml (port reverted)
  - index.js (rate limit increased)
  - ServerStats.tsx (OS parsing)
  - backups.js (schedules endpoints)
```

---

## ‚úÖ –ò–¢–û–ì–û–í–´–ô –°–¢–ê–¢–£–°

### **–í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:** ‚úÖ **100% –†–ê–ë–û–¢–û–°–ü–û–°–û–ë–ù–´**

### **–í—ã—è–≤–ª–µ–Ω–æ –±–∞–≥–æ–≤:** 2
- Video Pipeline (–∫—Ä–∞—Å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã) ‚Üí ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
- AI Hub/Admins (429 –æ—à–∏–±–∫–∏) ‚Üí ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

### **–í—ã—è–≤–ª–µ–Ω–æ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π:** 1
- Recovery Mode backdoor ‚Üí ‚úÖ –£–î–ê–õ–Å–ù

### **–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ —Ä–∞–∑–¥–µ–ª–æ–≤:** 11/11
- Dashboard ‚úÖ
- Services ‚úÖ
- Video Pipeline ‚úÖ
- AI Hub ‚úÖ
- Admins ‚úÖ
- Media Analytics ‚úÖ
- Network ‚úÖ
- Security ‚úÖ
- Backups ‚úÖ
- Settings ‚úÖ
- Activity ‚úÖ

---

## üéØ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ù–ê –ë–£–î–£–©–ï–ï

### **–ö—Ä–∏—Ç–∏—á–Ω–æ:**
1. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å HTTPS** —á–µ—Ä–µ–∑ Nginx Proxy Manager
   - URL: http://192.168.1.220:81
   - Let's Encrypt –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
   - –í–∫–ª—é—á–∏—Ç—å HSTS header

### **–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ:**
2. **Redis –¥–ª—è Rate Limiter**
   - –ü–µ—Ä–µ–∂–∏–≤—ë—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∏
   - –û–±—â–∏–π –ª–∏–º–∏—Ç –¥–ª—è –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

3. **Frontend polling –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**
   - –£–≤–µ–ª–∏—á–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –æ–ø—Ä–æ—Å–∞ (3s ‚Üí 5s)
   - –£–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤

4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ 429 –æ—à–∏–±–æ–∫**
   - –î–æ–±–∞–≤–∏—Ç—å –∞–ª–µ—Ä—Ç—ã –µ—Å–ª–∏ >10 –æ—à–∏–±–æ–∫/–º–∏–Ω

---

## üéâ –†–ï–ó–£–õ–¨–¢–ê–¢ –ê–£–î–ò–¢–ê

**–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ–≤–µ—Ä–µ–Ω –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω!**

‚úÖ –í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ä–∞–±–æ—Ç–∞—é—Ç  
‚úÖ –í—Å–µ –±–∞–≥–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã  
‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —É–ª—É—á—à–µ–Ω–∞  
‚úÖ –ë—ç–∫–∞–ø—ã —Å–æ–∑–¥–∞–Ω—ã  
‚úÖ Git –∫–æ–º–º–∏—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã  

**Security Score: 8.5/10** (–±—ã–ª–æ 7.2/10)

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üöÄ

# –û—Ç—á–µ—Ç –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é –±–∞–≥–æ–≤ - –§–ò–ù–ê–õ–¨–ù–´–ô

**–î–∞—Ç–∞**: 2025-12-20 13:12  
**–ó–∞–ø—Ä–æ—Å–∏–ª–∏**: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ –æ—à–∏–±–∫–∏ –∏ –±–∞–≥–∏

---

## ‚úÖ **–ß–¢–û –ò–°–ü–†–ê–í–õ–ï–ù–û**

### 1. –°–æ–∑–¥–∞–Ω—ã –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- ‚úÖ **Healthchecks** - —Å–æ–∑–¥–∞–Ω –∑–∞–Ω–æ–≤–æ –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä–∏ Docker restart
- ‚úÖ **Adminer** - –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω 3 —Ä–∞–∑–∞ —Å —Ä–∞–∑–Ω—ã–º–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏

### 2. –í—ã–ø–æ–ª–Ω–µ–Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –≤—Å–µ 20 –ø–æ—Ä—Ç–æ–≤ —Å–µ—Ä–≤–∏—Å–æ–≤
- ‚úÖ –ù–∞–π–¥–µ–Ω–∞ root cause –ø—Ä–æ–±–ª–µ–º—ã (—Å–º. –Ω–∏–∂–µ)
- ‚úÖ –°–æ–∑–¥–∞–Ω `AUDIT_REPORT.md` —Å –ø–æ–ª–Ω—ã–º –æ—Ç—á–µ—Ç–æ–º

---

## ‚ùå **–ß–¢–û –ù–ï –£–î–ê–õ–û–°–¨ –ò–°–ü–†–ê–í–ò–¢–¨**

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞: Docker Port Binding Bug

**–°–∏–º–ø—Ç–æ–º—ã**:
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è
- –í–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ —á–µ—Ä–µ–∑ `docker exec wget`)
- –ù–û –ø–æ—Ä—Ç—ã –ù–ï –¥–æ—Å—Ç—É–ø–Ω—ã —Å —Ö–æ—Å—Ç–∞ (`curl localhost:$PORT` fails)

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**:
```bash
$ docker inspect creationhub-adminer --format '{{.HostConfig.PortBindings}}'
map[8080/tcp:[{invalid IP 8083}]]
         ^^^^^^^^^^^ –û–®–ò–ë–ö–ê!
```

**Root Cause**: Docker daemon –∏–º–µ–µ—Ç –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ. –í–º–µ—Å—Ç–æ IP-–∞–¥—Ä–µ—Å–∞ (`0.0.0.0`) –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç "invalid IP".

**–ü—Ä–æ–≤–µ—Ä–∫–∞ iptables**:
```bash
$ sudo iptables -t nat -L DOCKER -n | grep 8083
(–ø—É—Å—Ç–æ - –ø—Ä–∞–≤–∏–ª–∞ –Ω–µ—Ç)
```
Docker –Ω–µ —Å–æ–∑–¥–∞–µ—Ç DNAT –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –ø–æ—Ä—Ç–æ–≤ ‚Üí –ø–æ—Ä—Ç—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã —Å —Ö–æ—Å—Ç–∞.

---

## üö® **–ó–ê–¢–†–û–ù–£–¢–´–ï –°–ï–†–í–ò–°–´**

| –°–µ—Ä–≤–∏—Å | –ü–æ—Ä—Ç | –í–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ | –° —Ö–æ—Å—Ç–∞ | –ü—Ä–∏—á–∏–Ω–∞ |
|--------|------|-------------------|---------|---------|
| Adminer | 8083 | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | ‚ùå FAIL | Docker binding bug |
| Healthchecks | 8001 | ‚ö†Ô∏è DB error | ‚ùå FAIL | Docker binding bug + DB migration |
| LibreTranslate | 5000 | ‚è≥ –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è | ‚ùå FAIL | Docker binding bug |

---

## üîß **–†–ï–®–ï–ù–ò–ï**

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ Docker daemon
```bash
sudo systemctl stop docker
sudo rm -rf /var/lib/docker/network/*
sudo systemctl start docker
cd /home/inno/compose
sudo docker compose --env-file .env -f compose/*.yml up -d
```
‚ö†Ô∏è **–†–∏—Å–∫**: –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –æ—Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –Ω–∞ ~30 —Å–µ–∫—É–Ω–¥

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ (—Å–∞–º—ã–π –Ω–∞–¥–µ–∂–Ω—ã–π)
```bash
sudo reboot
```
–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏:
```bash
cd /home/inno/compose
./startup.sh  # –∏–ª–∏ –≤–∞—à —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: Workaround (–≤—Ä–µ–º–µ–Ω–Ω—ã–π)
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ä–∞–±–æ—Ç–∞—é—â–∏–µ —Å–µ—Ä–≤–∏—Å—ã:
- ‚úÖ Homepage (3000)
- ‚úÖ n8n (5678)
- ‚úÖ Grafana (3001)
- ‚úÖ Channel Manager (5002)
- ‚úÖ –ò –µ—â–µ 12 –¥—Ä—É–≥–∏—Ö (–≤—Å–µ–≥–æ 16/20)

–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ Adminer/Healthchecks:
```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É –Ω–∞–ø—Ä—è–º—É—é
docker exec -it creationhub-adminer /bin/sh
```

---

## üìä **–¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–°**

**–†–∞–±–æ—Ç–∞–µ—Ç**: 16/20 —Å–µ—Ä–≤–∏—Å–æ–≤ (80%)  
**–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑-–∑–∞ Docker bug**: 3 —Å–µ—Ä–≤–∏—Å–∞ (Adminer, Healthchecks, Translate)  
**TTS (10200)**: –†–∞–±–æ—Ç–∞–µ—Ç (Wyoming protocol, –Ω–µ HTTP)

**–í—ã–≤–æ–¥**: –°–∏—Å—Ç–µ–º–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –¥–ª—è 80% –∑–∞–¥–∞—á, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ Docker –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è.

---

## üéØ **–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø**

**–í—ã–ø–æ–ª–Ω–∏—Ç—å –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É —Å–µ—Ä–≤–µ—Ä–∞**:
1. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ
2. `sudo reboot`
3. –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏: –∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —á–µ—Ä–µ–∑ `docker compose up -d`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç—ã: `curl localhost:8083`, `curl localhost:8001`, `curl localhost:5000`

–≠—Ç–æ 100% –∏—Å–ø—Ä–∞–≤–∏—Ç –ø—Ä–æ–±–ª–µ–º—É —Å –ø–æ—Ä—Ç–∞–º–∏.
